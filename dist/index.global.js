var json2tstool=(()=>{var l=Object.defineProperty,N=Object.defineProperties,E=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var g=(e,t,s)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(e,t)=>{for(var s in t||(t={}))m.call(t,s)&&g(e,s,t[s]);if(h)for(var s of h(t))P.call(t,s)&&g(e,s,t[s]);return e},A=(e,t)=>N(e,k(t)),C=e=>l(e,"__esModule",{value:!0});var x=(e,t)=>{for(var s in t)l(e,s,{get:t[s],enumerable:!0})},U=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of w(t))!m.call(e,c)&&(s||c!=="default")&&l(e,c,{get:()=>t[c],enumerable:!(r=E(t,c))||r.enumerable});return e};var v=(e=>(t,s)=>e&&e.get(t)||(s=U(C({}),t,1),e&&e.set(t,s),s))(typeof WeakMap!="undefined"?new WeakMap:0);var B={};x(B,{default:()=>z});var I=["string","number","boolean","undefined","null"],O=class{constructor(){this.isProcess=!1;this.resStr=""}start(t){this.resStr+=`interface ${t} { 
`,this.isProcess=!0}end(){return this.resStr+="}",this.resStr}reset(){this.resStr="",this.isProcess=!1}append(t,s){this.resStr+=`  ${t} : ${s}; 
`}},o=new O,G=e=>e.slice(0,1).toUpperCase()+e.slice(1),p=(e,t)=>`I${G(e)}`,f=e=>typeof e=="object"&&e!==null,$=e=>Array.isArray(e),K=e=>{let t=Object.prototype.toString.call(e);return/\[object (.*)]/.exec(t)[1].toLowerCase()},S=(e,t)=>{let s=e.map(K),r=Array.from(new Set(s)),c=r.filter(a=>I.includes(a)),n=r.filter(a=>!I.includes(a)),y=p(t,"array"),i=[];if(n.length>0){let u=e.filter(f).map(b=>Object.keys(b).join("-")),j=Array.from(new Set(u));j.length===1?i.push(y):j.forEach((b,T)=>{i.push(`${y}${T+1}`)})}return c.length>0&&n.length===0?c:c.length===0&&n.length>0?i:c.length>0&&n.length>0?[...c,...i]:[]},J=e=>{let s=e.filter(f).map(n=>A(d({},n),{uniKey:Object.keys(n).join("-")})),r=[],c=[];return s.forEach(n=>{r.includes(n.uniKey)||(r.push(n.uniKey),delete n.uniKey,c.push(n))}),c},L=(e,t)=>{let s=[],r=(n,y)=>{if($(n)){let i=J(n);i.length<=1?i.forEach(a=>r(a,`${y}`)):i.forEach((a,u)=>r(a,`${y}${u+1}`))}else f(n)&&(s.push({key:y,value:n,type:"object"}),Object.keys(n).forEach(i=>r(n[i],i)))};return r(e,t),console.log(s),s.map(W).join(`

`)},W=e=>{if(e.type==="array"){let t=p(e.key,"array");o.reset(),o.start(t);let s=S(e.value,e.key);o.append(e.key,`(${s.join("|")})[]`);let r=o.end();return o.reset(),r}if(e.type==="object"){let t=p(e.key,"object");o.reset(),o.start(t),Object.keys(e.value).forEach(r=>{let c=e.value[r];if($(c)){let n=S(c,r);o.append(r,`(${n.join("|")})[]`)}else if(f(c)){let n=p(r,"object");o.append(r,n)}else o.append(r,K(c))});let s=o.end();return o.reset(),s}return""},q=(e,t="ISomeInterface")=>{try{let s=JSON.parse(e);return L(s,t)}catch(s){console.log(s)}},z=q;return v(B);})();
